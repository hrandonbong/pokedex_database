<head>
    <script src="/js/delete.js"> </script>
    <title>Pokedex</title>
</head>
<body>
    <h1>
        Pokedex Database
    </h1>
    
    <div class="topnav">
        <a onclick="document.location.href='/index.handlebars'">Index</a>
        <a class="active" onclick="document.location.href='/pokedex.handlebars'">Pokedex</a>
        <a onclick="document.location.href='/pokemon.handlebars'">Pokemon</a>
        <a onclick="document.location.href='/regions.handlebars'">Region</a>
        <a onclick="document.location.href='/trainer.handlebars'">Trainer</a>
        <a onclick="document.location.href='/pokedex_pokemon.handlebars'">Pokedex Pokemon</a>
    </div>
    <br>
    <h4>
        Build a pokedex by clicking that button and select a trainer!
    </h4>
    <br>
    <form id='addPokedex' method="post">
        <label for="trainer_id">Trainer ID:</label><br>
        <select id="trainer_id" name="trainer_id">
            {{#each pokedex}}
            <option value={{tid}}>{{tid}}</option>
            {{/each}}
        </select>
        {{!-- <input type="text" id="trainer_id" name="trainer_id"  placeholder="Input the ID of a trainer"> --}}
        <br><br>
        <input type="submit" value="Build">
    </form> 

    <br><br>

    <div>
        <table class="table">
            <caption>Current Pokedexes:</caption>
            <thead> 
                <th>Pokedex ID</th>
                <th>Trainer ID</th> 
            </thead> 
            <tbody>
                {{#each pokedex}} 
                <tr> 
                    <td>{{pid}}</td> 
                    <td>{{tid}}</td> 
                    <td><button id="delete" onclick="deletePokedex({{pid}})" class="button">Delete</button></td>
                    <td><a href="/pokedex.handlebars/{{pid}}" class="button">Update</a></td>
                </tr> 
                {{/each}} 
            </tbody> 
        </table> 
    </div>
</body>

<script>
    $(document).ready(function () {
        var usedNames = {};
        $("select > option").each(function () {
        if (usedNames[this.value]) {
        $(this).remove();
        } else {
        usedNames[this.value] = this.text;
        }
        });
    });
</script>